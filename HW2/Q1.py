from fractions import gcd

n  = 93923989829536838645425792878391884185852090015047096928325495680735077974573254200941142654635659889069058397106827931666572379715390977199861730622956934976456672365327932404671265952251676873946441183498231232238528978514016592480741429133646590466736838628474537927484115146306435052269979805285188280829
y  = 56944778095026064508803320557324194828217604358002584860993983127246257172572625621288924208876440674553832158479040031724187898214806257072823966168352349606611537362177018477860328420295741255602485512749523176875861988864327723267007959112818744831884377494800464304976689851182957989115066715277845807162
x1 = 11539293044780349664317193739835099161008802876501927386196632728052884864570713532203427639431106901813684612368583348366278480903942058202903897004649103055743285751895970690426609694759832511976035062765586527404034628524567695175048634551582051994897593554954834163440853023500476963332472457537871514030
x2 = 65462078929074573896561682473134429960343753900612807859205872292206976673766764795638688642515250572910065281537469802520465145301193070320295080324024966677495122426689606204830245523869232443939539387029183651868429281477875679397889633306037656227303018935833418527282673149878942564121394686954099450002
x3 = 28461910900462264748864110405257454225508336114434289069119623388528101300806489405302454012120409316158993115569358129146107234414197906879566650298931968298961549938638326199841020428382444430006901796469047580370099697036140913082851795827608934239433819692641119400201441996427492488148585118331088830827
x4 = 82384696784756488981108599138556785024843287138545169542128862952682193110002540668737715015204552987255373784738244583300293898811448918996957833618307831920713386613431961714244656257491844361970406120732644704834494349989448897305692794582064538471839245073519703764043262122805958088937507347747316766799

def egcd(a, b):
    if a == 0:
        return (b, 0, 1)
    else:
        g, y, x = egcd(b % a, a)
        return (g, x - (b // a) * y, y)

def modinv(a, m):
    g, x, y = egcd(a, m)
    if g != 1:
        raise Exception('modular inverse does not exist')
    else:
        return x % m

if (x1 + x2) == n:
    print("x1 is a, x2 is -a, x3 is b, x4 is -b" "\n")
    p = gcd(x1+x4,n)
    q = gcd(x1+x3,n)
elif (x1 + x3) == n:
    print("x1 is a, x3 is -a, x4 is b, x2 is -b" "\n")
    p = gcd(x1+x2,n)
    q = gcd(x1+x4,n)
elif (x1 + x4) == n:
    print("x1 is a, x4 is -a, x3 is b, x2 is -b" "\n")
    p = gcd(x1+x2,n)
    q = gcd(x1+x3,n)
else:
	print("Something went wrong")

#p = gcd(x1+x2,n)
#q = gcd(x1+x3,n)

print "P: ", p, "\n", "Q:", q
